---
title: "ファイルのドラッグ＆ドロップ (File Object)"
free: true
---

https://www.electronjs.org/ja/docs/latest/api/file-object

# ドラッグ＆ドロップされたファイルのパスを取得する

## レンダラープロセス (HTML)

```html:index.html
  <body>
    <div class="container" id="container">
      <ol id="list"></ol>
    </div>

    <!-- You can also require other files to run in this process -->
    <script src="app.js"></script>
  </body>
```

## レンダラープロセス (CSS)

```css:styles.css
html,
body,
.container {
  margin: 0;
  padding: 0;
  height: 100%;
}

.container {
  display: flex;
}
```

## レンダラープロセス (JavaScript)

```javascript:app.js
const container = document.getElementById('container');
const list = document.getElementById('list');

/**
 *
 * 'dragover', 'drop' 双方のイベントで
 * e.preventDefaut() と e.stopPropagation() が必要
 *
 */
const preventDefault = (e) => {
  e.preventDefault();
  e.stopPropagation();
};

container.addEventListener('dragover', (e) => {
  preventDefault(e);
});

container.addEventListener('drop', (e) => {
  preventDefault(e);

  for (const file of e.dataTransfer.files) {
    const child = document.createElement('li');

    child.textContent = file.path;
    list.appendChild(child);
  }
});
```

![](https://storage.googleapis.com/zenn-user-upload/23b66ab1e9b1f0dfa0484f68.png =640x)

:::message
`nodeIntegration: false` が設定されていても、レンダラープロセスで `File` オブジェクトに `path` プロパティが存在しています。
:::
